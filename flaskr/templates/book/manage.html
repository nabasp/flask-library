{% extends 'dashboard-base.html' %}

{% block header %}
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/dataTables.semanticui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/semantic.min.js"></script>


<link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/semantic.min.css" rel="stylesheet"/>
<link href="https://cdn.datatables.net/1.10.25/css/dataTables.semanticui.min.css" rel="stylesheet"/>
<style>
  tr.selected{
    background-color: #bbb;
  }
</style>
{% endblock %}

{% block content %}
<div class="page-body">
  <div class="container-xl">
    <div class="row g-2 align-items-center mb-n3">
      
      
        <div class="col-6 col-sm-4 col-md-2 col-xl mb-3">
          <a href="#" class="btn btn-light w-100">
            Issue Book
          </a>
        </div>

        <div class="col-6 col-sm-4 col-md-2 col-xl mb-3">
          <a href="#" class="btn btn-light w-100">
            Edit 
          </a>
        </div>

        <div class="col-6 col-sm-4 col-md-2 col-xl mb-3">
          <a href="#" class="btn btn-light w-100">
            Delete
          </a>
        </div>
      
      
    </div>
    <div class="row">
      <div class="col-12">
        
        <table id="example" class="ui celled table" style="width:100%">
            <thead>
                <tr>
                    <th>bookID</th>
                    <th>Title</th>
                    <th>Authors</th>
                    <th>ISBN</th>
                    <th>Language</th>
                    <th>Publisher</th>
                    <th>Publication date</th>
                    <th>Rating</th>
                    <th>Stock</th>
                    <!-- <th>Actions</th> -->
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th>bookID</th>
                    <th>Title</th>
                    <th>Authors</th>
                    <th>ISBN</th>
                    <th>Language</th>
                    <th>publisher</th>
                    <th>Publication date</th>
                    <th>Rating</th>
                    <th>Stock</th>
                    <!-- <th>Actions</th> -->
                </tr>
            </tfoot>
        </table>
        
      </div>
    </div>
  </div>
</div>

<div class="modal modal-blur fade" id="modal-danger" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
    <div class="modal-content">
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      <div class="modal-status bg-danger"></div>
      <div class="modal-body text-center py-4">
        <!-- Download SVG icon from http://tabler-icons.io/i/alert-triangle -->
        <svg xmlns="http://www.w3.org/2000/svg" class="icon mb-2 text-danger icon-lg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 9v2m0 4v.01" /><path d="M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75" /></svg>
        <h3>Are you sure?</h3>
        <div class="text-muted">Do you really want to remove this member? What you've done cannot be undone.</div>
      </div>
      <div class="modal-footer">
        <div class="w-100">
          <div class="row">
            <div class="col"><botton class="btn btn-white w-100" data-bs-dismiss="modal">
                Cancel
              </botton></div>
            <div class="col">
              <form action="{{ url_for('member.delete')}}" method="post">
                <input type="hidden" id="delMemberId" name="delMemberId">
                <input class="btn btn-danger w-100"  type="submit" value="Delete">
              </form>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal modal-blur fade" id="modal-member-edit" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Update Member</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
        <form id="member-edit-form" method="POST" action="{{ url_for('member.update') }}">
          <input type="hidden" id="memberId" name="memberId" value="">
          <div class="modal-body">
              <div class="form-group mb-3 row">
                <label class="form-label col-3 col-form-label">Name</label>
                <div class="col">
                  <input id="name" name="name" type="text" class="form-control" placeholder="Enter Name">
                </div>
              </div>
              <div class="form-group mb-3 row">
                <label class="form-label col-3 col-form-label">Phone number</label>
                <div class="col">
                  <input id="phone" name="phone" type="tel" class="form-control" autocomplete="off">
                </div>
              </div>
              <div class="form-group mb-3 row">
                <label class="form-label col-3 col-form-label">Email address</label>
                <div class="col">
                  <input id="email" name="email" type="email" class="form-control" aria-describedby="emailHelp" placeholder="Enter email">
                  <small class="form-hint">We'll never share your email with anyone else.</small>
                </div>
              </div>
              <div class="form-group mb-3 row">
                <label class="form-label col-3 col-form-label">Date Of Birth</label>
                <div class="col">
                  <div class="input-icon">
                    <span class="input-icon-addon"><!-- Download SVG icon from http://tabler-icons.io/i/calendar -->
                      <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="5" width="16" height="16" rx="2"></rect><line x1="16" y1="3" x2="16" y2="7"></line><line x1="8" y1="3" x2="8" y2="7"></line><line x1="4" y1="11" x2="20" y2="11"></line><line x1="11" y1="15" x2="12" y2="15"></line><line x1="12" y1="15" x2="12" y2="18"></line></svg>
                    </span>
                    <input id="dob" name="dob" class="form-control" placeholder="Select a date" id="datepicker-icon-prepend" >
                  </div>
                </div>
              </div>
              <div class="form-group mb-3 row">
                <label class="form-label col-3 col-form-label">Gender</label>
                <div class="col">
                  <div class="form-selectgroup">
                    <label class="form-selectgroup-item">
                      <input type="radio" id="gender" name="gender" value="m" class="form-selectgroup-input" checked="">
                      <span class="form-selectgroup-label">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-man" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                          <circle cx="12" cy="5" r="2"></circle>
                          <path d="M10 22v-5l-1 -1v-4a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4l-1 1v5"></path>
                      </svg>
                        Male</span>
                    </label>
                    <label class="form-selectgroup-item">
                      <input type="radio" id="gender" name="gender" value="f" class="form-selectgroup-input">
                      <span class="form-selectgroup-label">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-woman" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                          <circle cx="12" cy="5" r="2"></circle>
                          <path d="M10 22v-4h-2l2 -6a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1l2 6h-2v4"></path>
                      </svg>
                        Female</span>
                    </label>
                    <label class="form-selectgroup-item">
                      <input type="radio" id="gender" name="gender" value="o" class="form-selectgroup-input">
                      <span class="form-selectgroup-label">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon me-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="12" cy="12" r="9"></circle></svg>
                        Other</span>
                    </label>
                  </div>
                </div>
                
              </div>
              <div class="form-group mb-3 row">
                <label class="form-label col-3 col-form-label">Address</label>
                <div class="col">
                  <textarea class="form-control" id="address" name="address" rows="6" placeholder="Address.."></textarea>
                </div>
              </div>
              <div class="form-group mb-3 row">
                <label class="form-label col-3 col-form-label">Status</label>
                <div class="col">
                  <label class="form-check form-switch">
                    <input id="status" name="status" class="form-check-input" type="checkbox" checked="">
                  </label>
                </div>
              </div>
          </div>
          <div class="modal-footer">
            <a href="#" class="btn btn-link link-secondary" data-bs-dismiss="modal">
              Cancel
            </a>
            <button type="submit" class="btn btn-success ms-auto">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M5 12l5 5l10 -10"></path>
             </svg>
              Save
            </button>
          </div>
        </form>
    </div>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='dist/libs/litepicker/dist/litepicker.js')}}"></script>
<script type=text/javascript>
  // document.addEventListener("DOMContentLoaded", function () {
  //   window.Litepicker && (new Litepicker({
  //     element: document.getElementById('dob'),
  //     buttonText: {
  //       previousMonth: '<svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="15 6 9 12 15 18" /></svg>',
  //       nextMonth: '<svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="9 6 15 12 9 18" /></svg>',
  //     },
  //   }));
  // });
  SCRIPT_ROOT = {{ request.script_root|tojson|safe }};

  // $(function() {
  //   $('a#edit-member').bind('click', function() {
  //     memberId=$(this).attr("data-memberId");
  //     $('#memberId').val(memberId);
  //     $.getJSON(SCRIPT_ROOT + memberId +'/edit', function(data) {
  //       console.log(data);
  //       $("#name").val(data.name);
  //       $("#dob").val(data.dob);
  //       $("#email").val(data.email);
  //       $("#status").prop("checked", data.status?true:false);
  //       values =[data.gender];
  //       $(".form-selectgroup-item").find('[value=' + values.join('], [value=') + ']').prop("checked", true);
        
  //       $("#phone").val(data.phone);
  //       $("#address").val(data.address);
  //     });
  //     return false;
  //   });

  //   $('a#delete-member').bind('click', function() {
  //     memberId=$(this).attr("data-memberId");
  //     $('#delMemberId').val(memberId);
  //     return false;
  //   });
 
  // });

  $(document).ready(function() {
 
  var table = $('#example').DataTable( {
        scrollY:        true,
        scrollX:        true,
        "ajax":{
          'url':  SCRIPT_ROOT  +'all/getBook',
          'method': "GET",
        },
        "columns": [
            { "data": "bookID" },
            { "data": "title" },
            { "data": "authors" },
            { "data": "isbn" },
            { "data": "language_code" },
            { "data": "publisher" },
            { "data": "publication_date" },
            { "data": "average_rating" },
            { "data": "book_count" },
        ]
    } );
    $('#example tbody').on( 'click', 'tr', function () {
        if ( $(this).hasClass('selected') ) {
            $(this).removeClass('selected');
        }
        else {
            table.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
        }
    } );

} );


  
</script>
{% endblock %}
